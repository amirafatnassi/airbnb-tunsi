<div class="card">
  <div class="card-header">
    <h4 class="card-title">Liste de logements</h4>
    <button
      class="btn rounded-pill btn-primary pull-right"
      routerLink="/logements/add"
    >
      <i class="bi bi-plus"></i> Nouveau logement
    </button>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table
        class="table align-middle"
        style="width: 100%"
        *ngIf="logements.length > 0"
        datatable
        [dtOptions]="dtOptions"
      >
        <thead>
          <tr>
            <th class="text-dark font-medium fs-4">titre</th>
            <th class="text-dark font-medium fs-4">adresse</th>
            <th class="text-dark font-medium fs-4">Description</th>
            <th class="text-dark font-medium fs-4">Prix/nuit</th>
            <th class="text-dark font-medium fs-4">Rating</th>
            <th class="text-dark font-medium fs-4">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let log of logements">
            <td class="fs-4">
              <a routerLink="/logements/show/{{ log._id }}">{{ log.titre }}</a>
            </td>
            <td class="fs-4">{{ log.adresse.ville }} {{ log.adresse.pays }}</td>
            <td class="fs-4">
              <p>{{( log.description.length>200)? ( log.description | slice:0:200)+'.....':( log.description)}}</p>
             
            </td>
            <td class="fs-4">{{ log.prix | currency : "TND" :'symbol':'4.2-2' }}</td>
            <td class="fs-4">
              <div *ngIf="log.rating < 1">
                <span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span>
              </div>
              <div *ngIf="log.rating >= 1 && log.rating < 2">
                <span class="fa fa-star"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span>
              </div>
              <div *ngIf="log.rating >= 2 && log.rating < 3">
                <span class="fa fa-star"></span><span class="fa fa-star"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span>
              </div>
              <div *ngIf="log.rating >= 3 && log.rating < 4">
                <span class="fa fa-star"></span><span class="fa fa-star"></span
                ><span class="fa fa-star"></span
                ><span class="fa fa-star-o"></span
                ><span class="fa fa-star-o"></span>
              </div>
              <div *ngIf="log.rating >= 4 && log.rating < 5">
                <span class="fa fa-star"></span><span class="fa fa-star"></span
                ><span class="fa fa-star"></span><span class="fa fa-star"></span
                ><span class="fa fa-star-o"></span>
              </div>
              <div *ngIf="log.rating == 5">
                <span class="fa fa-star"></span><span class="fa fa-star"></span
                ><span class="fa fa-star"></span><span class="fa fa-star"></span
                ><span class="fa fa-star"></span>
              </div>
            </td>
            <td>
              <button
                class="btn rounded-circle btn-success"
                routerLink="/logements/update/{{ log._id }}"
              >
                <i class="bi bi-pencil"></i>
              </button>
              <button
                class="btn rounded-circle btn-danger"
                (click)="suppLogement(log._id)"
              >
                <i class="bi bi-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
